import { Meta } from '@storybook/addon-docs/blocks'

<Meta title="Astro UXDS/Patterns/Forms/Svelte" />

<style>{`
  .sbdocs .sbdocs-content {
    max-width: 90%;
  }
  rux-tabs {
    margin-bottom: 1rem;
  }
  .sandbox {
    width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;
  }
`}

</style>

# Form Pattern

<rux-tabs id="tab-set-id-1" small style={{height:'auto'}}>
  <rux-tab id="tab-id-1">Basic</rux-tab>
  <rux-tab id="tab-id-2">With Validation</rux-tab>
</rux-tabs>

<rux-tab-panels aria-labelledby="tab-set-id-1">

  <rux-tab-panel aria-labelledby="tab-id-1">

## Example

Basic example form using all Astro form elements in a [Svelte](https://svelte.dev/) application.

<iframe src="https://codesandbox.io/s/astro-form-in-svelte-hn6m9?file=/Form.svelte"
  title="Astro Svelte Basic Form Pattern"
  class="sandbox"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
></iframe>

## Caveats

### Data-binding

For data-binding, Svelte's two-way binding syntax bind:[prop] is not supproted for custom element props. You will need to manually update your variables with a function called as part of an event handler like:
```html
<script>
  let name;

  const handleInput = (e) => {
    name = e.target.value;
  };
</script>

<div>
  <rux-input-field
    on:rux-input={handleInput}
  />

  <h1>Hello {name}!</h1>
</div>
```

  </rux-tab-panel>

  <rux-tab-panel aria-labelledby="tab-id-2">

## Example

An example using [Svelte](https://svelte.dev/) + [Yup](https://github.com/jquense/yup) for easy validation.

<iframe src="https://codesandbox.io/s/astro-form-in-svelte-with-validation-7jk16?file=/Form.svelte"
  class="sandbox"
  title="Astro Vue Form Pattern with Yup"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
></iframe>

  </rux-tab-panel>
</rux-tab-panels>
