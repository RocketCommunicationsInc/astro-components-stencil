import { extractArgTypes } from '@astrouxds/storybook-addon-docs-stencil'
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks'
import { html, render } from 'lit-html'

<Meta
    title="Forms/Select Menu"
    component="rux-select"
    argTypes={extractArgTypes('rux-select')}
    subcomponents={{ 'RuxOptionGroup': 'rux-option-group', 'RuxOption': 'rux-option' }}
    parameters={{
        actions: {
            handles: [
            'rux-change rux-select', 'rux-blur rux-select'
            ],
        },
    }}
/>

# Select Menu

Select Menus allow users to select a value from a list of values.

## Guidelines

-   [Astro UXDS: Select Menu](https://astrouxds.com/components/select/)
-   [Astro UXDS: Form and Input Validation](https://www.astrouxds.com/ui-components/validation)

export const Default = (args) => {
    return html`
        <div style="width: 200px; margin: 0 auto;">
            <rux-select
                ?disabled="${args.disabled}"
                ?required="${args.required}"
                ?invalid="${args.invalid}"
                label="${args.label}"
                input-id="${args.inputId}"
                label-id="${args.labelId}"
                .errorText="${args.errorText}"
                .helpText="${args.helpText}"
            >
                <rux-option value="" selected label="Select an option"></rux-option>
                <rux-option value="1.1" label="Option 1.1"></rux-option>
                <rux-option value="1.2" label="Option 1.2"></rux-option>
                <rux-option value="1.3" label="Option 1.3"></rux-option>
                <rux-option value="1.4" label="Option 1.4"></rux-option>
            </rux-select>
        </div>
    `
}

<Canvas>
    <Story
        args={{
            label: "Select Menu",
            inputId: 1,
            labelId: 1
        }}
        name="Select Menu"
    >
        {Default.bind()}
    </Story>
</Canvas>

## API
<ArgsTable of="rux-select" />

## Usage

> Select **requires** the use of the `<rux-option>` component instead of the native `<option>`. Make sure to set the label using the `label` property instead of a slot like you would with the native `<option>`

### Selecting Options
The `value` property will sync the currently selected value.

### Grouping
For Grouping, make sure to use the Astro `<rux-option-group>` component instead of the native `<optgroup>`.

## Variants

### With Option Groups
export const WithOptionGroups = (args) => {
    return html`
        <div style="width: 200px; margin: 0 auto;">
            <rux-select
                ?disabled="${args.disabled}"
                ?required="${args.required}"
                ?invalid="${args.invalid}"
                label="${args.label}"
                input-id="${args.inputId}"
                label-id="${args.labelId}"
                .errorText="${args.errorText}"
                .helpText="${args.helpText}"
            >
                <rux-option value="" label="Select an option" selected></rux-option>
                <rux-option-group label="Group one">
                    <rux-option value="1.1" label="Option 1.1"></rux-option>
                    <rux-option value="1.2" label="Option 1.2"></rux-option>
                    <rux-option value="1.3" label="Option 1.3"></rux-option>
                    <rux-option value="1.4" label="Option 1.4"></rux-option>
                </rux-option-group>
                <rux-option-group label="Group two">
                    <rux-option value="2.1">Option 2.1</rux-option>
                    <rux-option value="2.2">Option 2.2</rux-option>
                    <rux-option value="2.3">Option 2.3</rux-option>
                    <rux-option value="2.4">Option 2.4</rux-option>
                </rux-option-group>
                <rux-option value="3.1">Option 3.1</rux-option>
            </rux-select>
        </div>
    `
}

<Canvas>
    <Story
        args={{
            label: "With option groups",
            inputId: 1,
            labelId: 1
        }}
        name="With Option Groups"
    >
        {WithOptionGroups.bind()}
    </Story>
</Canvas>

### Disabled
export const Disabled = (args) => {
    return html`
        <div style="width: 200px; margin: 0 auto;">
            <rux-select
                ?disabled="${args.disabled}"
                ?required="${args.required}"
                ?invalid="${args.invalid}"
                label="${args.label}"
                input-id="${args.inputId}"
                label-id="${args.labelId}"
                .errorText="${args.errorText}"
                .helpText="${args.helpText}"
            >
                <rux-option value="" selected label="Select an option"></rux-option>
                    <rux-option value="1.1" label="Option 1.1"></rux-option>
                    <rux-option value="1.2" label="Option 1.2"></rux-option>
                    <rux-option value="1.3" label="Option 1.3"></rux-option>
                    <rux-option value="1.4" label="Option 1.4"></rux-option>
            </rux-select>
        </div>
    `
}

<Canvas>
    <Story
        args={{
            label: "Disabled Select Menu",
            disabled: true,
            inputId: 1,
            labelId: 1
        }}
        name="Disabled"
    >
        {Disabled.bind()}
    </Story>
</Canvas>

### Invalid
export const Invalid = (args) => {
    return html`
        <div style="width: 200px; margin: 0 auto;">
            <rux-select
                ?disabled="${args.disabled}"
                ?required="${args.required}"
                ?invalid="${args.invalid}"
                label="${args.label}"
                input-id="${args.inputId}"
                label-id="${args.labelId}"
            >
                <rux-option value="" selected label="Select an option"></rux-option>
                <rux-option value="1.1" label="Option 1.1"></rux-option>
                <rux-option value="1.2" label="Option 1.2"></rux-option>
                <rux-option value="1.3" label="Option 1.3"></rux-option>
                <rux-option value="1.4" label="Option 1.4"></rux-option>
            </rux-select>
        </div>
    `
}

<Canvas>
    <Story
        args={{
            label: "Invalid Select Menu",
            invalid: true,
            inputId: 1,
            labelId: 1
        }}
        name="Invalid"
    >
        {Invalid.bind()}
    </Story>
</Canvas>

export const WithHelpText = (args) => {
    return html`
        <div style="width: 200px; margin: 0 auto;">
            <rux-select
                ?disabled="${args.disabled}"
                ?required="${args.required}"
                ?invalid="${args.invalid}"
                label="${args.label}"
                input-id="${args.inputId}"
                label-id="${args.labelId}"
                .errorText="${args.errorText}"
                .helpText="${args.helpText}"
            >
                <rux-option value="" selected label="Select an option"></rux-option>
                <rux-option value="1.1" label="Option 1.1"></rux-option>
                <rux-option value="1.2" label="Option 1.2"></rux-option>
                <rux-option value="1.3" label="Option 1.3"></rux-option>
                <rux-option value="1.4" label="Option 1.4"></rux-option>
            </rux-select>
        </div>
    `
}

<Canvas>
    <Story
        args={{
            label: "Select menu",
            inputId: 1,
            labelId: 1,
            helpText: 'Help text'
        }}
        name="With Help Text"
    >
        {WithHelpText.bind()}
    </Story>
</Canvas>

export const WithErrorText = (args) => {
    return html`
        <div style="width: 200px; margin: 0 auto;">
            <rux-select
                ?disabled="${args.disabled}"
                ?required="${args.required}"
                ?invalid="${args.invalid}"
                label="${args.label}"
                input-id="${args.inputId}"
                label-id="${args.labelId}"
                .errorText="${args.errorText}"
                .helpText="${args.helpText}"
            >
                <rux-option value="" selected label="Select an option"></rux-option>
                <rux-option value="1.1" label="Option 1.1"></rux-option>
                <rux-option value="1.2" label="Option 1.2"></rux-option>
                <rux-option value="1.3" label="Option 1.3"></rux-option>
                <rux-option value="1.4" label="Option 1.4"></rux-option>
            </rux-select>
        </div>
    `
}

<Canvas>
    <Story
        args={{
            label: "Select menu",
            inputId: 1,
            labelId: 1,
            errorText: 'Error text'
        }}
        name="With Error Text"
    >
        {WithErrorText.bind()}
    </Story>
</Canvas>

## Cherry Picking

If you're already utilizing a build system that supports tree shaking and want to only import this individual component:

```js
import { RuxSelect } from 'astro-web-components/dist/components/rux-select'
import { RuxOption } from 'astro-web-components/dist/components/rux-option'

customElements.define('rux-select', RuxSelect)
customElements.define('rux-option', RuxOption)

// Optional
//import { RuxOptionGroup } from 'astro-web-components/dist/components/rux-option-group'
//customElements.define('rux-option-group', RuxOptionGroup)

```
