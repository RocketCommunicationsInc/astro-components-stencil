import { Meta } from '@storybook/addon-docs/blocks'

<Meta title="Astro UXDS/Welcome/JavaScript" />

# Vanilla JavaScript

## Installation

Astro Web Components make use of Stencil's automatic lazy loader which only loads components that are actually used on the page.

### Via CDN

Add the following inside your head tag

```html
<link rel="preconnect" href="https://fonts.gstatic.com" />
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&family=Roboto:wght@200;300;400;500;600;800&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="https://unpkg.com/@astrouxds/astro-web-components/dist/astro-web-components/astro-web-components.css"/>
<script type="module" src="https://unpkg.com/@astrouxds/astro-web-components/dist/astro-web-components/astro-web-components.esm.js"></script>
```

### Via NPM

`npm i @astrouxds/astro-web-components`

```js
  import { defineCustomElements } from '@astrouxds/astro-web-components/dist/loader';
  defineCustomElements();
```

## Setting Props

### Basic Data

For basic primitive types like `string`, `boolean`, `number`, set the attribute on the element:

```js
<rux-button size="large"></rux-button>
```

### Complex Data
For non primitives like `array` or `object`, set them via properties.
```js
<rux-segmented-button></rux-segmented-button>

<script>
  const element = document.querySelector('rux-segmented-button')
  const data = [
    {
      "label": "First item"
    },
    {
      "label": "Second item",
      "selected": true
    },
    {
      "label": "Third item"
    }
  ]

  element.data = data;

</script>

```
## Using Slots

Slots give you full control over the contents of a component. Some components may have multiple slots.

> Web Component Concept:
> Slotted content lives outside of the shadow DOM and as a result, you are free to style them however you want.


```html
<rux-global-status-bar>
  <rux-icon slot="left-side" icon="apps"></rux-icon>
  <div slot="app-meta">
    <h1>Hello World</h1>
  </div>
</rux-global-status-bar>
```

## Listening to Events

Astro Components emit their own custom events, prefixed with `rux`.

```js
<rux-input-field></rux-input-field>

<script>
  const element = document.querySelector('rux-input-field')
  element.addEventListener('rux-input', (event) => {
    console.log('heard input event!', event.target.value)
  })
</script>
```

## Methods

Some components offer public methods that can be executed. These methods are async and can be executed by selecting the Node element.

```js
  <rux-tree>
    <rux-tree-node id="firstNode">Hello</rux-tree-node>
    <rux-tree-node>World</rux-tree-node>
    </rux-tree>
  <rux-button @click="selectNode">Select Node</rux-button>

  <script>
    const button = document.querySelector('rux-button')
    const node = document.querySelector('#firstNode')
    button.addEventListener('click', () => {
      node.setSelected(true)
    })
  </script>
```
